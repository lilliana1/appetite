(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(77)},35:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),s=(a(35),a(28)),i=a(81),o=a(84),u=a(80),m=a(83),h=a(82),p={isAuthenticated:!1,authenticate:function(e){var t=this;fetch("api/users/user",{credentials:"include"}).then(function(a){if(200!==a.status)return!1;t.isAuthenticated=!0,"function"===typeof e&&e(a.json().user)}).catch(function(e){console.log("Error fetching authorized user.")})},signout:function(e){var t=this;fetch("api/users/logout",{method:"POST",credentials:"include"}).then(function(a){t.isAuthenticated=!1,"function"===typeof e&&e(!0)}).catch(function(t){console.log("Error logging out user."),"function"===typeof e&&e(!1)})}},d=a(2),f=a(3),v=a(5),E=a(4),g=a(6),b=a(79),w=(a(37),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,width:window.innerWidth},a.updateWidth=function(){var e={width:window.innerWidth};a.state.open&&e.width>991&&(e.open=!1),a.setState(e)},a.toggleNav=function(){a.setState({open:!a.state.open})},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWidth)}},{key:"componentWillUnMount",value:function(){window.removeEventListener("resize",this.updateWidth)}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg mb-2 navbar-light"},l.a.createElement(b.a,{className:"navbar-brand",to:"/"},"Appetite."),l.a.createElement("button",{onClick:this.toggleNav,className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"".concat(this.state.open?"":"collapse ","navbar-collapse"),id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/search"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/explore"},"Explore City")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/review"},"Review")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/about"},"About Us")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/login"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(b.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/register"},"Register")),l.a.createElement(J,null))))}}]),t}(n.Component)),N=function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onLogin;return l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({username:e.usernameElem.value,password:e.passwordElem.value})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter Username"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",type:"submit"},"Submit")))}}]),t}(l.a.Component),y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={redirectToReferrer:!1},a.login=function(e){console.log("Logging in "+e.username),fetch("api/users/login",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){200===e.status&&p.authenticate(function(){a.setState({redirectToReferrer:!0})})}).catch(function(e){console.log("Error logging in.",e)})},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/protected"}}).from;return this.state.redirectToReferrer?l.a.createElement(h.a,{to:e}):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h4",null,"Log in "),l.a.createElement(N,{onLogin:this.login}),l.a.createElement("br",null))}}]),t}(l.a.Component),C=function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onRegister;return console.log("Register form props are: ".concat(JSON.stringify(this.props))),l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({firstName:e.firstNameElem.value,lastName:e.lastNameElem.value,email:e.emailElem.value,username:e.usernameElem.value,password:e.passwordElem.value})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",ref:function(t){return e.firstNameElem=t},type:"text",name:"firstName",placeholder:"First name"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.lastNameElem=t},type:"text",name:"lastName",placeholder:"Last name"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.emailElem=t},type:"email",name:"email",placeholder:"Email"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter username"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn btn-primary",type:"submit"},"Submit")))}}]),t}(l.a.Component),k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={redirectToReferrer:!1},a.register=function(e){fetch("api/users/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){200===e.status&&(console.log("Succesfully registered user!"),window.location.assign("/protected"))}).catch(function(e){console.log("Error registering user.",e)})},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h4",null,"Create account and be part of Appetite fam "),l.a.createElement(C,{onRegister:this.register}))}}]),t}(l.a.Component);function O(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var S=function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"This is a Public Page Here"),l.a.createElement("p",null,"Anyone can see this content"))}}]),t}(l.a.Component);a(42),a(44);var R=function(e){return l.a.createElement("div",{className:"container"},l.a.createElement("input",{id:"searchBar",className:"searchbar",type:"text",placeholder:"Type your location...",value:e.search,onChange:e.handleChange}))},D=a(11),j=a.n(D),x={getYelp:function(e){return console.log("API"),j()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?location="+e,headers:{Authorization:"Bearer PgJusXn31ypmekPQStCI8iUudCa9UvyHeWELfsnPHZPbxnDiOJSZtV33gDLB7BhRQ6TN3ND6xX0SpzZFPcevOsZm1CinPcCG3bgizU32K2FVhi7XMyO4JeRqCjZHXnYx"}})},getYelpCat:function(e,t){return j()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?location="+e+"&open_now=true&categories="+t,headers:{Authorization:"Bearer PgJusXn31ypmekPQStCI8iUudCa9UvyHeWELfsnPHZPbxnDiOJSZtV33gDLB7BhRQ6TN3ND6xX0SpzZFPcevOsZm1CinPcCG3bgizU32K2FVhi7XMyO4JeRqCjZHXnYx"}})},getYelpOpenNow:function(e,t){return console.log("API OPEN NOW"),j()({method:"GET",url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?location="+e+"&open_now=true&categories="+t,headers:{Authorization:"Bearer PgJusXn31ypmekPQStCI8iUudCa9UvyHeWELfsnPHZPbxnDiOJSZtV33gDLB7BhRQ6TN3ND6xX0SpzZFPcevOsZm1CinPcCG3bgizU32K2FVhi7XMyO4JeRqCjZHXnYx"}})},getReviews:function(){return j.a.get("/api/review")},saveReview:function(e){return console.log(e),j.a.post("/api/review",e)}};a(63);var P=function(e){return l.a.createElement("div",{className:"back button"},l.a.createElement("div",{onClick:e.handleClick,type:"submit",className:"button_base b05_3d_roll"},l.a.createElement("button",null,"Here we go!"),l.a.createElement("button",null,"Let's search")))},A=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={apiData:[],search:"",categories:[],restSelect:[]},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleClick=function(){console.log(a.state.search),x.getYelpOpenNow(a.state.search).then(function(e){console.log(e.data.businesses),a.setState({apiData:e.data.businesses});var t=[];a.state.apiData.map(function(e){var n,l=[];t.push(e.categories.map(function(e){return e.title})),n=(l=l.concat(t).flat()).filter(function(e,t){return l.indexOf(e)===t}),a.setState({categories:n})})}).catch(function(e){console.log(e)})},a.handleCategorySubmit=function(e){e.preventDefault(),console.log(e.target.value)},a.handleChangeCheck=function(e){console.log(e.target.value);var t=e.target.value.toLowerCase();x.getYelpCat(a.state.search,t).then(function(e){a.setState({apiData:e.data.businesses});var t=a.state.apiData;a.setState({apiData:t.flat()})}).catch(function(e){console.log(e)})},a.itemDetail=function(e){console.log(e);var t=a.state.apiData.filter(function(t){return t.id===e});a.setState({restSelect:t[0]}),console.log(a.state.restSelect.image_url)},a.showDetails=function(){return console.log("yes"),l.a.createElement("div",{id:"detailsCol"},l.a.createElement("img",{className:"imageDetails",src:a.state.restSelect.image_url,alt:a.state.restSelect.name}),l.a.createElement("p",{className:"paragraphDetails",id:"restDetName"}," ",a.state.restSelect.name," "),l.a.createElement("p",{className:"paragraphDetails"}," ",l.a.createElement("i",{class:"fab fa-yelp"})," Rating: ",a.state.restSelect.rating,"  "),l.a.createElement("p",{className:"paragraphDetails"}," ",l.a.createElement("i",{class:"fab fa-yelp"})," Price: ",a.state.restSelect.price,"  "),l.a.createElement("p",{className:"paragraphDetails"}," Address: ",a.state.restSelect.location.display_address[0]+" "+a.state.restSelect.location.display_address[1]))},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.restSelect),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"row home shadow-lg bg-white rounded"},l.a.createElement("p",{className:"description col-3"},"Appetite. will help to search restaurants that are open at the specific time of searching."),l.a.createElement("br",null),l.a.createElement("div",{className:"col-5"},l.a.createElement(R,{handleChange:this.handleChange,handleClick:this.handleClick})),l.a.createElement("div",{className:"col-2"},l.a.createElement(P,{handleChange:this.handleChange,handleClick:this.handleClick}))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2 categories"},l.a.createElement("h3",{className:"categories"},"Categories"),l.a.createElement("div",null,l.a.createElement("form",{className:"categories",onSubmit:this.handleCategorySubmit},this.state.categories.map(function(t){return l.a.createElement("div",null,l.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"restaurantCat",value:t,id:"defaultCheck1",onChange:e.handleChangeCheck}),l.a.createElement("label",{className:"form-check-label",for:"defaultCheck1"},t))})))),l.a.createElement("div",{className:"col-6"},l.a.createElement("table",{align:"center",className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"}),l.a.createElement("th",{scope:"col"},"Restaurant ",l.a.createElement("i",{class:"fas fa-utensils"})),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{class:"fas fa-info"})))),l.a.createElement("tbody",null,this.state.apiData.map(function(t){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},l.a.createElement("img",{src:t.image_url,atl:t.name})),l.a.createElement("td",null,t.name),l.a.createElement("td",{className:"infoPointer",onClick:function(){return e.itemDetail(t.id)}},l.a.createElement("i",{class:"fas fa-info"})))})))),l.a.createElement("div",{className:"col-4"},void 0===this.state.restSelect.id?"":this.showDetails())))}}]),t}(l.a.Component);a(65);var L=function(e){return l.a.createElement("div",{className:"container jumbotronReview"},l.a.createElement("input",{id:"searchBar",className:"searchbar",type:"text",placeholder:"Type city you would like to explore...",value:e.search,onChange:e.handleChange}),l.a.createElement("a",{id:"btnSearch",className:"btn-search"}))};a(67);var T=function(e){return l.a.createElement("div",{className:"back button"},l.a.createElement("div",{onClick:e.handleClick,type:"submit",className:"button_base b05_3d_roll"},l.a.createElement("button",null,"Here we go!"),l.a.createElement("button",null,"Let's explore")))},_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={apiData:[],search:""},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleClick=function(){console.log(a.state.search),x.getYelp(a.state.search).then(function(e){console.log(e.data.businesses),a.setState({apiData:e.data.businesses})}).catch(function(e){console.log(e)})},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"row explore shadow-lg bg-white rounded"},l.a.createElement("p",{className:"description col-3"},"Appetite. will help to explore restaurants near searched area."),l.a.createElement("br",null),l.a.createElement("div",{className:"col-5"},l.a.createElement(L,{handleChange:this.handleChange,handleClick:this.handleClick})),l.a.createElement("div",{className:"col-2"},l.a.createElement(T,{handleChange:this.handleChange,handleClick:this.handleClick}))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("table",{align:"center",className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col exolorecol"}),l.a.createElement("th",{scope:"col"},"Restaurant ",l.a.createElement("i",{class:"fas fa-utensils"})),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{class:"fab fa-yelp"})," Rating"),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{class:"fab fa-yelp"})," Price"),l.a.createElement("th",{scope:"col"},"Location"),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{class:"fab fa-yelp"})," URL"))),l.a.createElement("tbody",null,this.state.apiData.map(function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},l.a.createElement("img",{src:e.image_url,alt:e.name})),l.a.createElement("td",null,e.name),l.a.createElement("td",null," ",e.rating," "),l.a.createElement("td",null," ",e.price," "),l.a.createElement("td",null," ",e.location.display_address[0]+" "+e.location.display_address[1]," "),l.a.createElement("td",null,l.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"}," Visit ")))}))))))}}]),t}(l.a.Component);var V=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Appetite."),l.a.createElement("br",null),l.a.createElement("h3",null,"Story"),l.a.createElement("p",null,"Imagine you just got to a new city and don\u2019t know anything about it when it comes to eat! What\u2019s the point of searching on an engine and noticing that places are fast foods (why eat fast food or big food national food chains when there are so many places to eat great food?), close or too far away from you? Appetite. is here to make that browsing experience unique."),l.a.createElement("br",null),l.a.createElement("h3",null,"Why Appetite.?"),l.a.createElement("p",null,"Stop wasting hours in a new city when you are searching for a place to eat. Appetite. is here to help you make that search way easier by filtering restaurants where you can have new experiences and great food near you!"),l.a.createElement("br",null),l.a.createElement("h5",null,"API"),"Appetite. use Yelp's amazing API.")};a(69);a(71);var B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={apiData:[],result:""},a.handleChange=function(e){a.setState({result:e.target.value})},a.handleClick=function(){console.log(a.state.result),x.getYelp(a.state.result).then(function(e){console.log(e.data.businesses),a.setState({apiData:e.data.businesses})}).catch(function(e){console.log(e)})},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"City"),l.a.createElement("p",null,"Here you will be able to see and filter what you want to eat"),l.a.createElement("div",null,l.a.createElement("h3",null,"Restaurants"),this.state.apiData.map(function(e){return l.a.createElement("div",null,l.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"}),l.a.createElement("label",{className:"form-check-label",for:"defaultCheck1"},e.businesses.title))})))}}]),t}(l.a.Component);var I=a(26);a(73);var U=function(e){return l.a.createElement("div",{className:"container"},l.a.createElement("input",{id:"searchBar",className:"searchbar",type:"text",placeholder:"Type location of the restaurant...",value:e.search,onChange:e.handleChange}),l.a.createElement("a",{id:"btnSearch",className:"btn-search"}))};a(75);var Z=function(e){return l.a.createElement("div",{className:"back button"},l.a.createElement("div",{onClick:e.handleClick,type:"submit",className:"button_base b05_3d_roll"},l.a.createElement("button",null,"Here we go!"),l.a.createElement("button",null,"Let's review")))},H=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={apiData:[],filtered:[],search:"",searchRest:"",restSelect:[],restaurantName:"",restaurantId:"",reviewValue:"",reviewDescription:"",isReviewOpen:!1,isViewReviews:!1,reviewData:[],chosenReviewData:{},reviewPercentage:[]},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleChangeRest=function(e){a.setState({searchRest:e.target.value}),console.log(e.target.value);var t=a.state.apiData.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.target.value)});a.setState({filtered:t})},a.handleClick=function(){console.log(a.state.search),x.getYelp(a.state.search).then(function(e){console.log(e.data.businesses),a.setState({apiData:e.data.businesses,filtered:e.data.businesses})}).catch(function(e){console.log(e)})},a.handleChangeReviews=function(e){console.log(e);var t=e.target,n=t.name,l=t.value;a.setState(Object(I.a)({},n,l)),console.log(a.state.reviewValue),console.log(a.state.reviewDescription)},a.handleClickReviews=function(e,t){var n={username:"testUser",restaurantName:t,restaurantId:e,rating:a.state.reviewValue,review:a.state.reviewDescription};x.saveReview(n).then(function(e){console.log(e),a.setState({reviewValue:"",reviewDescription:"",isReviewOpen:!a.state.isReviewOpen})}).catch(function(e){return console.log(e)}),console.log("AQUI")},a.itemDetail=function(e){var t=a.state.apiData.filter(function(t){return t.id===e});a.setState({restSelect:t[0],isReviewOpen:!a.state.isReviewOpen})},a.addReview=function(){return console.log(a.state.restSelect.id),console.log(a.state.restSelect.name),l.a.createElement("div",{id:"addReviewCol"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"exampleFormControlSelect1"},"Rating \u2b50\ufe0f"),l.a.createElement("select",{className:"form-control",id:"exampleFormControlSelect1",value:a.state.reviewValue,onChange:a.handleChangeReviews,name:"reviewValue"},l.a.createElement("option",null,"Pick a Star"),l.a.createElement("option",{value:"1"},"\u2b50\ufe0f"),l.a.createElement("option",{value:"2"},"\u2b50\ufe0f\u2b50\ufe0f"),l.a.createElement("option",{value:"3"},"\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f"),l.a.createElement("option",{value:"4"},"\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f"),l.a.createElement("option",{value:"5"},"\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f\u2b50\ufe0f"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"Textarea"},"Review"),l.a.createElement("textarea",{className:"form-control",id:"Textarea",value:a.state.reviewDescription,onChange:a.handleChangeReviews,name:"reviewDescription"})),l.a.createElement("button",{className:"btn-success review",type:"submit",onClick:function(){return a.handleClickReviews(a.state.restSelect.id,a.state.restSelect.name)}},"submit"))},a.viewReviewBtn=function(e){var t=a.state.reviewData.filter(function(t){return t.restaurantId===e});console.log(t),a.setState({chosenReviewData:t[0],isViewReviews:!a.state.isViewReviews})},a.viewReviews=function(e){return l.a.createElement("div",{id:"viewRevCol"},l.a.createElement("p",{className:"paragraphDetails",id:"restDetName"}," ",a.state.chosenReviewData.restaurantName,"  Reviews "),a.state.chosenReviewData.review.map(function(e){return l.a.createElement("p",{className:"paragraphDetails"}," - ",e," ")}))},a}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.getReviews().then(function(t){console.log(t),e.setState({reviewData:t.data});for(var a=0,n=[],l=0;l<e.state.reviewData.length;l++)console.log(e.state.reviewData[l].rating),e.state.reviewData[l].rating.forEach(function(e){a+=parseInt(e)}),n.push(a/e.state.reviewData[l].rating.length.toFixed(2)),a=0;console.log(n),e.setState({reviewPercentage:n})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"row review shadow-lg bg-white rounded"},l.a.createElement("p",{className:"description col-3"},"Browse and login to share reviews, opinions and restaurant experiences with Appetite."),l.a.createElement("br",null),l.a.createElement("div",{className:"col-5"},l.a.createElement(U,{handleChange:this.handleChange})),l.a.createElement("div",{className:"col-2"},l.a.createElement(Z,{handleClick:this.handleClick}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("input",{className:"form-control",id:"myInput",type:"text",placeholder:"Search Restaurant...",onChange:this.handleChangeRest}),l.a.createElement("br",null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("table",{align:"center",className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"}),l.a.createElement("th",{scope:"col"}," Restaurant ",l.a.createElement("i",{className:"fas fa-utensils"})),l.a.createElement("th",{scope:"col"}," Appetite. Rating"),l.a.createElement("th",{scope:"col"}," Reviews "),l.a.createElement("th",{scope:"col"}," Add Review ",l.a.createElement("i",{className:"far fa-edit"})," "))),l.a.createElement("tbody",null,this.state.filtered.map(function(t,a){return console.log(t.image_url),l.a.createElement("tr",{key:a},l.a.createElement("th",{scope:"row"}," ",l.a.createElement("img",{src:t.image_url,alt:t.name})," "),l.a.createElement("td",null," ",t.name," "),l.a.createElement("td",null," ",e.state.reviewPercentage[a]," "),l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"addReviewPointer btn btn-outline-dark",onClick:function(){return e.viewReviewBtn(t.id)}}," view")),p.isAuthenticated?l.a.createElement("td",null,l.a.createElement("button",{type:"button",className:"addReviewPointer btn btn-outline-dark",onClick:function(){return e.itemDetail(t.id,t.name)}}," add")):l.a.createElement("td",null,"Please LogIn to add a Review"))})))),l.a.createElement("div",{className:"col-4"},this.state.isReviewOpen?this.addReview():"",this.state.isViewReviews?this.viewReviews():"")))}}]),t}(l.a.Component),J=Object(m.a)(function(e){var t=e.history;return p.isAuthenticated?l.a.createElement("button",{className:"btn btn-danger",onClick:function(){p.signout(function(){return t.push("/")})}},"Sign out"):""}),z=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return l.a.createElement(u.a,Object.assign({},a,{render:function(e){return p.isAuthenticated?l.a.createElement(t,e):l.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};c.a.render(l.a.createElement(function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(w,{className:"App-header"}),l.a.createElement(O,null,l.a.createElement(o.a,null,l.a.createElement(u.a,{exact:!0,path:"/",component:A}),l.a.createElement(u.a,{exact:!0,path:"/search",component:A}),l.a.createElement(u.a,{exact:!0,path:"/explore",component:_}),l.a.createElement(u.a,{exact:!0,path:"/city",component:B}),l.a.createElement(u.a,{exact:!0,path:"/review",component:H}),l.a.createElement(u.a,{exact:!0,path:"/about",component:V}),l.a.createElement(u.a,{exact:!0,path:"/public",component:S}),l.a.createElement(u.a,{exact:!0,path:"/login",component:y}),l.a.createElement(u.a,{exact:!0,path:"/register",component:k}),l.a.createElement(z,{path:"/protected",component:H})))))},null),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.8777359c.chunk.js.map